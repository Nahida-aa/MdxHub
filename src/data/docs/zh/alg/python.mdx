---
title: python
description: 
created_at: 2025-03-22T06:13:49Z
updated_at: 2025-03-22T06:13:49Z
tags: [alg,python]
---

- 编程环境: Python 3.8.6
- 编辑器: IDLE (python 自带编辑器)

```sh
# 启动虚拟环境中的 IDLE 编辑器
python -m idlelib
```

## 迭代

### 列表推导式

`[expression for item in iterable if condition]{:py}`

等效语法:
```py
lst = []
for item in iterable:
    if condition:
        lst.append(expression)
```

示例:
```py
# 1. 生成 1 到 10 的平方
[i**2 for i in range(1,11)]
# [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]

# 2. 生成 1 ~ 20 的偶数
[i for i in range(1,21) if i%2==0]
[i for i in range(2,21,2)]
list(range(2,21,2))
# [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

# 3. 将 输入的 1 2 3 4 转化为 list[int]
[int(i) for i in input().split()]
# [1, 2, 3, 4]

# 4. n*m 的 0 矩阵
n, m = map(int, input().split()) | [2, 3]
zero_matrix = [[0 for i in range(m)] for i in range(n)]
zero_matrix1 = [[0]*m for i in range(n)]
zero_matrix2 = [[0]*m]*n
# [[0, 0, 0], [0, 0, 0]]

# 5. 斐波那契数列
n = int(input())
fib = [0, 1]
[fib.append(fib[-1]+fib[-2]) for i in range(2, n)]
# [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597]

# 6. 将二维表展开为一维表
matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
flatten = [item for row in matrix for item in row]
# 相当于:
flatten = []
for row in matrix:
    for item in row:
        flatten.append(item)
```

### 字典推导式

`{key: value for item in iterable if condition}{:py}`

等效语法:
```py
dct = {}
for item in iterable:
    if condition:
        dct[key] = value
```
示例:
```py
# 统计字符串中每个字符出现的次数
s = "hello"
{char: s.count(char) for char in set(s)}
# {'h': 1, 'e': 1, 'l': 2, 'o': 1}
```

### `range{:py}`

`range(){:py}` 返回的是一个 `range{:py}` 对象, 是一个惰性序列(计算到对应位置时才会去计算对应的值), 节省内存. 如果需要 `list{:py}`, 可以用 `list(){:py}`

`range(start, stop, step){:py}`
- `start`: 起始值(包含), default: 0
- `stop`: 结束值(不包含)
- `step`: 步长, default: 1

即左闭着右开(python 中统一使用左闭右开区间)

```py
# 1. 生成 1 到 10 的序列
seq = range(1, 11)
list(seq) # [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# 2. 生成 1 到 10 的奇数
odd = range(1, 11, 2)
list(odd) # [1, 3, 5, 7, 9]

# 3. 生成 10 到 1 的序列
seq = range(10, 0, -1)
list(seq) # [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]

# 4. 生成 0 1 2 3 4 0 1 2 3 4 0 1 2 3 4
T = 5
n = 3
for i in range(T*n):
    a_i = i % T
    print(a_i, end=' ')

# 5. 生成二维网格坐标列表
row_count, col_count = 2, 3
coordinate_ls = [(i, j) for i in range(row_count) for j in range(col_count)]
# [(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2)]
```
